{
  "personaSession": {
    "dynamic_templates": [
      {
        "all": {
          "match": "*",
          "match_mapping_type": "text",
          "mapping": {
            "type": "text",
            "analyzer": "folding"
          }
        }
      }
    ],
    "properties": {
      "duration" : {
        "type" : "long"
      },
      "itemId" : {
        "type" : "keyword"
      },
      "itemType" : {
        "type" : "keyword"
      },
      "timeStamp": {
        "type": "date"
      },
      "lastEventDate": {
        "type": "date"
      },
      "profile" : {
        "properties" : {
          "itemId" : {
            "type" : "keyword"
          },
          "itemType" : {
            "type" : "keyword"
          },
          "properties" : {
            "properties" : {
              "description" : {
                "type" : "text",
                "analyzer" : "folding"
              },
              "firstName" : {
                "type" : "keyword"
              },
              "lastName" : {
                "type" : "keyword"
              }
            }
          }
        }
      },
      "profileId" : {
        "type" : "keyword"
      },
      "properties" : {
        "properties" : {
          "deviceCategory" : {
            "type" : "keyword"
          },
          "location" : {
            "type" : "geo_point"
          },
          "operatingSystemFamily" : {
            "type" : "keyword"
          },
          "operatingSystemName" : {
            "type" : "keyword"
          },
          "remoteAddr" : {
            "type" : "keyword"
          },
          "remoteHost" : {
            "type" : "keyword"
          },
          "sessionCity" : {
            "type" : "keyword"
          },
          "sessionCountryCode" : {
            "type" : "keyword"
          },
          "sessionCountryName" : {
            "type" : "keyword"
          },
          "userAgentName" : {
            "type" : "keyword"
          },
          "userAgentVersion" : {
            "type" : "keyword"
          }
        }
      },
      "size" : {
        "type" : "long"
      }
    }
  }
}